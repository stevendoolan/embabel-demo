# Steven's Update: I broke it and I don't know how! :(

My first error was:
```
Web application could not be started as there was no
org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.
```

I fixed this by adding into [application.properties](src/main/resources/application.properties):
```
spring.main.web-application-type=none
```

Now it won't start, with a new error:
```
Parameter 1 of constructor in 
com.embabel.agent.mcpserver.support.PerGoalMcpToolExportCallbackPublisher 
required a bean of type 'io.modelcontextprotocol.server.McpSyncServer' 
that could not be found.
```


---

![Build](https://github.com/embabel/embabel-agent/actions/workflows/maven.yml/badge.svg)

![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)
![Apache Tomcat](https://img.shields.io/badge/apache%20tomcat-%23F8DC75.svg?style=for-the-badge&logo=apache-tomcat&logoColor=black)
![Apache Maven](https://img.shields.io/badge/Apache%20Maven-C71A36?style=for-the-badge&logo=Apache%20Maven&logoColor=white)
![ChatGPT](https://img.shields.io/badge/chatGPT-74aa9c?style=for-the-badge&logo=openai&logoColor=white)
![JSON](https://img.shields.io/badge/JSON-000?logo=json&logoColor=fff)
![GitHub Actions](https://img.shields.io/badge/github%20actions-%232671E5.svg?style=for-the-badge&logo=githubactions&logoColor=white)
![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)
![IntelliJ IDEA](https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)

<img align="left" src="https://github.com/embabel/embabel-agent/blob/main/embabel-agent-api/images/315px-Meister_der_Weltenchronik_001.jpg?raw=true" width="180">

&nbsp;&nbsp;&nbsp;&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;

# Generated agent

Java agent repository generated by the Embabel project creator.

Starting point for your own agent development using the [Embabel framework](https://github.com/embabel/embabel-agent).

Add your magic here!

Illustrates:

- An injected demo showing how any Spring component can be injected with an Embabel `Ai` instance to enable it to
  perform LLM operations.
- A simple agent
- Unit tests for an agent verifying prompts and hyperparameters

# To run

Run the shell script to start Embabel under Spring Shell:

```bash
./scripts/shell.sh
```

There is a single example agent, `WriteAndReviewAgent`.
It uses one LLM with a high temperature and creative persona to write a story based on your input,
then another LLM with a low temperature and different persona to review the story.

When the Embabel shell comes up, use the story agent like this:

```
x "Tell me a story about...[your topic]"
```

Try the `InjectedDemo` command to see simple, non-agent use:

```java
animal
```

## A2A Support

Embabel integrates with the [A2A](https://github.com/google-a2a/A2A) protocol, allowing you to connect to other
A2A-enabled agents and
services.

> Embabel agents can be exposed to A2A with zero developer effort.

Check out the `a2a` branch of this repository to try A2A support.

You'll need the following environment variable:

- `GOOGLE_STUDIO_API_KEY`: Your Google Studio API key, which is used for Gemini.

Start the Google A2A web interface using Docker compose:

```bash
docker compose up
```

Go to the web interface running within the container at `http://localhost:12000/`.

Connect to your agent at `host.docker.internal:8080/a2a`. Note that `localhost:8080/a2a` won't work as the server
cannot access it when running in a Docker container.

Your agent will have automatically been exported to A2A. Add it in the UI, and start a chat.
You should see something like this:

<img src="images/a2a_ui.jpg" alt="A2A UI" width="600">

## Contributors

[![Embabel contributors](https://contrib.rocks/image?repo=embabel/java-agent-template)](https://github.com/embabel/java-agent-template/graphs/contributors)

